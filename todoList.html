<!DOCTYPE html>

<html>

<head>
    <title>Practical JavaScript</title>
</head>

<body>

    
<button id = "display-todos-button">Display todos</button>
<button id = "toggle-all">Toggle All</button>
<button id = "add-button">Add</button>
<input id = "add-input"/>
<button id = "edit-button">Edit</button>
<input id = "edit-postion-input"/>
<input id = "edit-text-input"/>
<button id = "remove-button">Remove</button>
<input id = "remove-input"/>
<button id = "toggle-button">Toggle</button>
<input id = "toggle-input"/>


    <script>

        var todos = [
            { todoText: "item1", completed: false },
            { todoText: "item2", completed: false },
            { todoText: "item3", completed: false }
        ]

        displayTodos()

        function add() {
            var initialTodoText = addInput.value;
            todos.push({todoText: initialTodoText, completed: false})
            addInput.value = ""
            displayTodos()
        }


        function edit() {
            var position = editPositionInput.value
            var newTodoText = editTextInput.value
            todos[position].todoText = newTodoText;
            editPostionInput.value = ""
            editTextInput.value = ""
            displayTodos()
        }

        function remove() {
            var position = removeInput.value
            todos.splice(position, 1)
            removeInput.value = ""
            displayTodos()

        }

        function toggle() {
            var position = toggleInput.value
            if (todos[position].completed === false) {
                todos[position].completed = true 
            }else{
                todos[position].completed = false
            }
            toggleInput.value=""

            displayTodos()
        }

        function displayTodos() {
            for (var i = 0; i < todos.length; i++) {
                console.log(todos[i])
            }
        }

    

        function toggleAll() {
            var completedTodos = 0;

            for (var i = 0; i < todos.length; i++) {
                if (todos[i].completed === true) {
                    completedTodos++;
                }
            }
             
             if (completedTodos === todos.length) {
                 for (var i = 0; i < todos.length; i++) {
                     todos[i].completed = false
                 }
             }else{
                 for (var i = 0; i < todos.length; i++) {
                     todos[i].completed = true
                 }
             }
             displayTodos()
            
        }
        var displayTodosButton = document.getElementById("display-todos-button")
        displayTodosButton.addEventListener("click", displayTodos)

        var toggleAllButton = document.getElementById("toggle-all")
        toggleAllButton.addEventListener("click", toggleAll)

        var addButton = document.getElementById("add-button")
        var addInput = document.getElementById("add-input")
        addButton.addEventListener("click", add)

        var editButton = document.getElementById("edit-button")
        var editPositionInput = document.getElementById("edit-postion-input")
        var editTextInput = document.getElementById("edit-text-input")
        editButton.addEventListener("click", edit)

        var removeButton = document.getElementById("remove-button")
        var removeInput = document.getElementById("remove-input")
        removeButton.addEventListener("click", remove)

        var toggleButton = document.getElementById("toggle-button")
        var toggleInput = document.getElementById("toggle-input")
        toggleButton.addEventListener("click", toggle)
    </script>
</body>

</html>